## API Report File for "@revenuecat/purchases-typescript-internal"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @public
export enum BILLING_FEATURE {
    IN_APP_ITEMS_ON_VR = 2,
    PRICE_CHANGE_CONFIRMATION = 4,
    SUBSCRIPTIONS = 0,
    SUBSCRIPTIONS_ON_VR = 3,
    SUBSCRIPTIONS_UPDATE = 1
}

// @public
export interface CustomerInfo {
    readonly activeSubscriptions: string[];
    readonly allExpirationDates: {
        [key: string]: string | null;
    };
    readonly allPurchaseDates: {
        [key: string]: string | null;
    };
    readonly allPurchasedProductIdentifiers: string[];
    readonly entitlements: PurchasesEntitlementInfos;
    readonly firstSeen: string;
    readonly latestExpirationDate: string | null;
    readonly managementURL: string | null;
    readonly nonSubscriptionTransactions: PurchasesStoreTransaction[];
    readonly originalApplicationVersion: string | null;
    readonly originalAppUserId: string;
    readonly originalPurchaseDate: string | null;
    readonly requestDate: string;
    readonly subscriptionsByProductIdentifier: {
        [key: string]: PurchasesSubscriptionInfo;
    };
}

// @public
export type CustomerInfoUpdateListener = (customerInfo: CustomerInfo) => void;

// @public
export enum ENTITLEMENT_VERIFICATION_MODE {
    DISABLED = "DISABLED",
    INFORMATIONAL = "INFORMATIONAL"
}

// @public
export interface ErrorInfo {
    // (undocumented)
    readableErrorCode: string;
}

// @public
export interface GoogleProductChangeInfo {
    readonly oldProductIdentifier: string;
    readonly prorationMode?: PRORATION_MODE;
}

// @public
export enum IN_APP_MESSAGE_TYPE {
    BILLING_ISSUE = 0,
    GENERIC = 2,
    PRICE_INCREASE_CONSENT = 1,
    WIN_BACK_OFFER = 3
}

// @public
export interface InstallmentsInfo {
    readonly commitmentPaymentsCount: number;
    readonly renewalCommitmentPaymentsCount: number;
}

// @public
export enum INTRO_ELIGIBILITY_STATUS {
    INTRO_ELIGIBILITY_STATUS_ELIGIBLE = 2,
    INTRO_ELIGIBILITY_STATUS_INELIGIBLE = 1,
    INTRO_ELIGIBILITY_STATUS_NO_INTRO_OFFER_EXISTS = 3,
    INTRO_ELIGIBILITY_STATUS_UNKNOWN = 0
}

// @public
export interface IntroEligibility {
    readonly description: string;
    readonly status: INTRO_ELIGIBILITY_STATUS;
}

// @public
export enum LOG_LEVEL {
    // (undocumented)
    DEBUG = "DEBUG",
    // (undocumented)
    ERROR = "ERROR",
    // (undocumented)
    INFO = "INFO",
    // (undocumented)
    VERBOSE = "VERBOSE",
    // (undocumented)
    WARN = "WARN"
}

// @public
export type LogHandler = (logLevel: LOG_LEVEL, message: string) => void;

// @public
export interface LogInResult {
    readonly created: boolean;
    readonly customerInfo: CustomerInfo;
}

// @public
export type MakePurchaseResult = {
    productIdentifier: string;
    customerInfo: CustomerInfo;
    transaction: PurchasesStoreTransaction;
};

// @public
export enum OFFER_PAYMENT_MODE {
    DISCOUNTED_RECURRING_PAYMENT = "DISCOUNTED_RECURRING_PAYMENT",
    FREE_TRIAL = "FREE_TRIAL",
    SINGLE_PAYMENT = "SINGLE_PAYMENT"
}

// @public
export type OwnershipType = "PURCHASED" | "FAMILY_SHARED" | "UNKNOWN";

// @public
export enum PACKAGE_TYPE {
    ANNUAL = "ANNUAL",
    CUSTOM = "CUSTOM",
    LIFETIME = "LIFETIME",
    MONTHLY = "MONTHLY",
    SIX_MONTH = "SIX_MONTH",
    THREE_MONTH = "THREE_MONTH",
    TWO_MONTH = "TWO_MONTH",
    UNKNOWN = "UNKNOWN",
    WEEKLY = "WEEKLY"
}

// @public
export enum PAYWALL_RESULT {
    CANCELLED = "CANCELLED",
    ERROR = "ERROR",
    NOT_PRESENTED = "NOT_PRESENTED",
    PURCHASED = "PURCHASED",
    RESTORED = "RESTORED"
}

// @public
export interface Period {
    readonly iso8601: string;
    readonly unit: PERIOD_UNIT;
    readonly value: number;
}

// @public
export enum PERIOD_UNIT {
    // (undocumented)
    DAY = "DAY",
    // (undocumented)
    MONTH = "MONTH",
    // (undocumented)
    UNKNOWN = "UNKNOWN",
    // (undocumented)
    WEEK = "WEEK",
    // (undocumented)
    YEAR = "YEAR"
}

// @public
export type PeriodType = "NORMAL" | "INTRO" | "TRIAL" | "PREPAID";

// @public
export interface PresentedOfferingContext {
    readonly offeringIdentifier: string;
    readonly placementIdentifier: string | null;
    readonly targetingContext: PresentedOfferingTargetingContext | null;
}

// @public
export interface PresentedOfferingTargetingContext {
    readonly revision: number;
    readonly ruleId: string;
}

// @public
export interface Price {
    readonly amountMicros: number;
    readonly currencyCode: string;
    readonly formatted: string;
}

// @public
export interface PricingPhase {
    readonly billingCycleCount: number | null;
    readonly billingPeriod: Period;
    readonly offerPaymentMode: OFFER_PAYMENT_MODE | null;
    readonly price: Price;
    readonly recurrenceMode: RECURRENCE_MODE | null;
}

// @public
export enum PRODUCT_CATEGORY {
    NON_SUBSCRIPTION = "NON_SUBSCRIPTION",
    SUBSCRIPTION = "SUBSCRIPTION",
    UNKNOWN = "UNKNOWN"
}

// @public
export enum PRODUCT_TYPE {
    AUTO_RENEWABLE_SUBSCRIPTION = "AUTO_RENEWABLE_SUBSCRIPTION",
    CONSUMABLE = "CONSUMABLE",
    NON_CONSUMABLE = "NON_CONSUMABLE",
    NON_RENEWABLE_SUBSCRIPTION = "NON_RENEWABLE_SUBSCRIPTION",
    PREPAID_SUBSCRIPTION = "PREPAID_SUBSCRIPTION",
    UNKNOWN = "UNKNOWN"
}

// @public
export enum PRORATION_MODE {
    DEFERRED = 6,
    IMMEDIATE_AND_CHARGE_FULL_PRICE = 5,
    IMMEDIATE_AND_CHARGE_PRORATED_PRICE = 2,
    IMMEDIATE_WITH_TIME_PRORATION = 1,
    IMMEDIATE_WITHOUT_PRORATION = 3,
    // (undocumented)
    UNKNOWN_SUBSCRIPTION_UPGRADE_DOWNGRADE_POLICY = 0
}

// @public @deprecated (undocumented)
export enum PURCHASE_TYPE {
    INAPP = "inapp",
    SUBS = "subs"
}

// @public
export enum PURCHASES_ARE_COMPLETED_BY_TYPE {
    MY_APP = "MY_APP",
    REVENUECAT = "REVENUECAT"
}

// @public
export enum PURCHASES_ERROR_CODE {
    // (undocumented)
    API_ENDPOINT_BLOCKED = "33",
    // (undocumented)
    BEGIN_REFUND_REQUEST_ERROR = "31",
    // (undocumented)
    CONFIGURATION_ERROR = "23",
    // (undocumented)
    CUSTOMER_INFO_ERROR = "29",
    // (undocumented)
    EMPTY_SUBSCRIBER_ATTRIBUTES_ERROR = "25",
    // (undocumented)
    INELIGIBLE_ERROR = "18",
    // (undocumented)
    INSUFFICIENT_PERMISSIONS_ERROR = "19",
    // (undocumented)
    INVALID_APP_USER_ID_ERROR = "14",
    // (undocumented)
    INVALID_APPLE_SUBSCRIPTION_KEY_ERROR = "17",
    // (undocumented)
    INVALID_CREDENTIALS_ERROR = "11",
    // (undocumented)
    INVALID_PROMOTIONAL_OFFER_ERROR = "34",
    // (undocumented)
    INVALID_RECEIPT_ERROR = "8",
    // (undocumented)
    INVALID_SUBSCRIBER_ATTRIBUTES_ERROR = "21",
    // (undocumented)
    LOG_OUT_ANONYMOUS_USER_ERROR = "22",
    // (undocumented)
    MISSING_RECEIPT_FILE_ERROR = "9",
    // (undocumented)
    NETWORK_ERROR = "10",
    // (undocumented)
    OFFLINE_CONNECTION_ERROR = "35",
    // (undocumented)
    OPERATION_ALREADY_IN_PROGRESS_ERROR = "15",
    // (undocumented)
    PAYMENT_PENDING_ERROR = "20",
    // (undocumented)
    PRODUCT_ALREADY_PURCHASED_ERROR = "6",
    // (undocumented)
    PRODUCT_DISCOUNT_MISSING_IDENTIFIER_ERROR = "26",
    // (undocumented)
    PRODUCT_DISCOUNT_MISSING_SUBSCRIPTION_GROUP_IDENTIFIER_ERROR = "28",
    // (undocumented)
    PRODUCT_NOT_AVAILABLE_FOR_PURCHASE_ERROR = "5",
    // (undocumented)
    PRODUCT_REQUEST_TIMED_OUT_ERROR = "32",
    // (undocumented)
    PURCHASE_CANCELLED_ERROR = "1",
    // (undocumented)
    PURCHASE_INVALID_ERROR = "4",
    // (undocumented)
    PURCHASE_NOT_ALLOWED_ERROR = "3",
    // (undocumented)
    RECEIPT_ALREADY_IN_USE_ERROR = "7",
    // (undocumented)
    RECEIPT_IN_USE_BY_OTHER_SUBSCRIBER_ERROR = "13",
    // (undocumented)
    STORE_PROBLEM_ERROR = "2",
    // (undocumented)
    SYSTEM_INFO_ERROR = "30",
    // (undocumented)
    UNEXPECTED_BACKEND_RESPONSE_ERROR = "12",
    // (undocumented)
    UNKNOWN_BACKEND_ERROR = "16",
    // (undocumented)
    UNKNOWN_ERROR = "0",
    // (undocumented)
    UNSUPPORTED_ERROR = "24"
}

// @public
export type PurchasesAreCompletedBy = PURCHASES_ARE_COMPLETED_BY_TYPE.REVENUECAT | PurchasesAreCompletedByMyApp;

// @public
export type PurchasesAreCompletedByMyApp = {
    type: PURCHASES_ARE_COMPLETED_BY_TYPE.MY_APP;
    storeKitVersion: STOREKIT_VERSION;
};

// @public
export interface PurchasesConfiguration {
    apiKey: string;
    appUserID?: string | null;
    diagnosticsEnabled?: boolean;
    entitlementVerificationMode?: ENTITLEMENT_VERIFICATION_MODE;
    pendingTransactionsForPrepaidPlansEnabled?: boolean;
    purchasesAreCompletedBy?: PurchasesAreCompletedBy;
    shouldShowInAppMessagesAutomatically?: boolean;
    storeKitVersion?: STOREKIT_VERSION;
    useAmazon?: boolean;
    userDefaultsSuiteName?: string;
}

// @public
export interface PurchasesEntitlementInfo {
    readonly billingIssueDetectedAt: string | null;
    readonly billingIssueDetectedAtMillis: number | null;
    readonly expirationDate: string | null;
    readonly expirationDateMillis: number | null;
    readonly identifier: string;
    readonly isActive: boolean;
    readonly isSandbox: boolean;
    readonly latestPurchaseDate: string;
    readonly latestPurchaseDateMillis: number;
    readonly originalPurchaseDate: string;
    readonly originalPurchaseDateMillis: number;
    readonly ownershipType: OwnershipType;
    readonly periodType: string;
    readonly productIdentifier: string;
    readonly productPlanIdentifier: string | null;
    readonly store: Store;
    readonly unsubscribeDetectedAt: string | null;
    readonly unsubscribeDetectedAtMillis: number | null;
    readonly verification: VERIFICATION_RESULT;
    readonly willRenew: boolean;
}

// @public
export interface PurchasesEntitlementInfos {
    readonly active: {
        [key: string]: PurchasesEntitlementInfo;
    };
    readonly all: {
        [key: string]: PurchasesEntitlementInfo;
    };
    readonly verification: VERIFICATION_RESULT;
}

// @public
export interface PurchasesError {
    // (undocumented)
    code: PURCHASES_ERROR_CODE;
    // (undocumented)
    message: string;
    // @deprecated (undocumented)
    readableErrorCode: string;
    // (undocumented)
    underlyingErrorMessage: string;
    // @deprecated (undocumented)
    userCancelled: boolean | null;
    // (undocumented)
    userInfo: ErrorInfo;
}

// @public
export interface PurchasesIntroPrice {
    readonly cycles: number;
    readonly period: string;
    readonly periodNumberOfUnits: number;
    readonly periodUnit: string;
    readonly price: number;
    readonly priceString: string;
}

// @public
export interface PurchasesOffering {
    readonly annual: PurchasesPackage | null;
    readonly availablePackages: PurchasesPackage[];
    readonly identifier: string;
    readonly lifetime: PurchasesPackage | null;
    readonly metadata: {
        [key: string]: unknown;
    };
    readonly monthly: PurchasesPackage | null;
    readonly serverDescription: string;
    readonly sixMonth: PurchasesPackage | null;
    readonly threeMonth: PurchasesPackage | null;
    readonly twoMonth: PurchasesPackage | null;
    readonly weekly: PurchasesPackage | null;
}

// @public
export interface PurchasesOfferings {
    readonly all: {
        [key: string]: PurchasesOffering;
    };
    readonly current: PurchasesOffering | null;
}

// @public
export interface PurchasesPackage {
    readonly identifier: string;
    // @deprecated
    readonly offeringIdentifier: string;
    readonly packageType: PACKAGE_TYPE;
    readonly presentedOfferingContext: PresentedOfferingContext;
    readonly product: PurchasesStoreProduct;
}

// @public
export interface PurchasesPromotionalOffer {
    // (undocumented)
    readonly identifier: string;
    // (undocumented)
    readonly keyIdentifier: string;
    // (undocumented)
    readonly nonce: string;
    // (undocumented)
    readonly signature: string;
    // (undocumented)
    readonly timestamp: number;
}

// @public
export interface PurchasesStoreProduct {
    readonly currencyCode: string;
    readonly defaultOption: SubscriptionOption | null;
    readonly description: string;
    readonly discounts: PurchasesStoreProductDiscount[] | null;
    readonly identifier: string;
    readonly introPrice: PurchasesIntroPrice | null;
    readonly presentedOfferingContext: PresentedOfferingContext | null;
    // @deprecated
    readonly presentedOfferingIdentifier: string | null;
    readonly price: number;
    readonly pricePerMonth: number;
    readonly pricePerMonthString: string;
    readonly pricePerWeek: number;
    readonly pricePerWeekString: string;
    readonly pricePerYear: number;
    readonly pricePerYearString: string;
    readonly priceString: string;
    readonly productCategory: PRODUCT_CATEGORY | null;
    readonly productType: PRODUCT_TYPE;
    readonly subscriptionOptions: SubscriptionOption[] | null;
    readonly subscriptionPeriod: string | null;
    readonly title: string;
}

// @public
export interface PurchasesStoreProductDiscount {
    readonly cycles: number;
    readonly identifier: string;
    readonly period: string;
    readonly periodNumberOfUnits: number;
    readonly periodUnit: string;
    readonly price: number;
    readonly priceString: string;
}

// @public
export interface PurchasesStoreTransaction {
    productIdentifier: string;
    purchaseDate: string;
    transactionIdentifier: string;
}

// @public
export interface PurchasesSubscriptionInfo {
    readonly billingIssuesDetectedAt: string | null;
    readonly expiresDate: string | null;
    readonly gracePeriodExpiresDate: string | null;
    readonly isActive: boolean;
    readonly isSandbox: boolean;
    readonly originalPurchaseDate: string | null;
    readonly ownershipType: OwnershipType;
    readonly periodType: PeriodType;
    readonly productIdentifier: string;
    readonly purchaseDate: string;
    readonly refundedAt: string | null;
    readonly store: Store;
    readonly storeTransactionId: string | null;
    readonly unsubscribeDetectedAt: string | null;
    readonly willRenew: boolean;
}

// @public
export interface PurchasesWinBackOffer extends PurchasesStoreProductDiscount {
}

// @public
export enum RECURRENCE_MODE {
    FINITE_RECURRING = 2,
    INFINITE_RECURRING = 1,
    NON_RECURRING = 3
}

// @public
export enum REFUND_REQUEST_STATUS {
    ERROR = 2,
    SUCCESS = 0,
    USER_CANCELLED = 1
}

// @public
export type ShouldPurchasePromoProductListener = (deferredPurchase: () => Promise<MakePurchaseResult>) => void;

// @public
export type Store = "PLAY_STORE" | "APP_STORE" | "STRIPE" | "MAC_APP_STORE" | "PROMOTIONAL" | "AMAZON" | "RC_BILLING" | "EXTERNAL" | "PADDLE" | "UNKNOWN_STORE";

// @public
export interface Storefront {
    readonly countryCode: string;
}

// @public
export enum STOREKIT_VERSION {
    DEFAULT = "DEFAULT",
    STOREKIT_1 = "STOREKIT_1",
    STOREKIT_2 = "STOREKIT_2"
}

// @public
export interface SubscriptionOption {
    readonly billingPeriod: Period | null;
    readonly freePhase: PricingPhase | null;
    readonly fullPricePhase: PricingPhase | null;
    readonly id: string;
    readonly installmentsInfo: InstallmentsInfo | null;
    readonly introPhase: PricingPhase | null;
    readonly isBasePlan: boolean;
    readonly isPrepaid: boolean;
    readonly presentedOfferingContext: PresentedOfferingContext | null;
    // @deprecated
    readonly presentedOfferingIdentifier: string | null;
    readonly pricingPhases: PricingPhase[];
    readonly productId: string;
    readonly storeProductId: string;
    readonly tags: string[];
}

// Warning: (ae-internal-missing-underscore) The name "UninitializedPurchasesError" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class UninitializedPurchasesError extends Error {
    constructor();
}

// Warning: (ae-internal-missing-underscore) The name "UnsupportedPlatformError" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export class UnsupportedPlatformError extends Error {
    constructor();
}

// @public @deprecated
export interface UpgradeInfo {
    readonly oldSKU: string;
    readonly prorationMode?: PRORATION_MODE;
}

// @public
export enum VERIFICATION_RESULT {
    FAILED = "FAILED",
    NOT_REQUESTED = "NOT_REQUESTED",
    VERIFIED = "VERIFIED",
    VERIFIED_ON_DEVICE = "VERIFIED_ON_DEVICE"
}

// @public
export type WebPurchaseRedemption = {
    redemptionLink: string;
};

// @public
export type WebPurchaseRedemptionResult = {
    result: WebPurchaseRedemptionResultType.SUCCESS;
    customerInfo: CustomerInfo;
} | {
    result: WebPurchaseRedemptionResultType.ERROR;
    error: PurchasesError;
} | {
    result: WebPurchaseRedemptionResultType.PURCHASE_BELONGS_TO_OTHER_USER;
} | {
    result: WebPurchaseRedemptionResultType.INVALID_TOKEN;
} | {
    result: WebPurchaseRedemptionResultType.EXPIRED;
    obfuscatedEmail: string;
};

// @public
export enum WebPurchaseRedemptionResultType {
    ERROR = "ERROR",
    EXPIRED = "EXPIRED",
    INVALID_TOKEN = "INVALID_TOKEN",
    PURCHASE_BELONGS_TO_OTHER_USER = "PURCHASE_BELONGS_TO_OTHER_USER",
    SUCCESS = "SUCCESS"
}

// (No @packageDocumentation comment for this package)

```
